<div class="row example section" id="elastic-inputs">
  <div class="col c4">
    <h2>Expanding text areas</h2>
    <p>
      The text areas are completely unstyled (no background, color, or font styles),
      and should be used in conjunction with <code>.text-input</code>, <code>.bi</code> (big inputs),
      or other components that will give style to the text area.
    </p>
    <p>
      Auto-expanding text areas requires additional JavaScript.
    </p>
    <div class="insert-snippet" data-example-id="expanding-textareas-ex"></div>
  </div>
  <div class="col c4 light">
    <h2>&nbsp;</h2><!-- Cheating to align code example with text, not heading -->
    <p>Empty input (using <code>.ba</code> to apply borders)</p>
    <p id="expanding-textareas-ex">
      <span class="elastic-input ba">
        <span class="sizer"><br></span>
        <textarea class="input"></textarea>
      </span>
    </p>
    <p>With some text</p>
    <p>
      <span class="elastic-input ba rl-c3">
        <span class="sizer">Here is some text that makes the whole thing occupy more than one line<br></span>
        <textarea class="input">Here is some text that makes the whole thing occupy more than one line</textarea>
      </span>
    </p>
  </div>
</div>

<div class="row example">
  <div class="col c4" id="elastic-material">
    <p>Expanding material design inputs</p>
    <div class="insert-snippet" data-example-id="expanding-mdi-ex"></div>
  </div>
  <div class="col c4 light">
    <h2>&nbsp;</h2><!-- Cheating to align code example with text, not heading -->
    <div id="expanding-mdi-ex" class="mod">
      <div class="mdi">
        <a href="#" class="action-btn perma-action">
          <svg class="icon" aria-hidden="true" role="presentation">
            <use xlink:href="#icon-x-cl"/>
          </svg>
        </a>
        <span class="mdinput elastic-input">
          <span class="elastic-input">
            <span class="sizer"><br></span>
            <textarea class="input"></textarea>
          </span>
        </span>
        <a href="#" class="action-btn edit-action" tabindex="-1">
          <svg class="icon" aria-hidden="true" role="presentation">
            <use xlink:href="#icon-checkmark"/>
          </svg>
        </a>
        <a href="#" class="action-btn view-action">
          <svg class="icon" aria-hidden="true" role="presentation">
            <use xlink:href="#icon-undo"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</div>

<div class="row example">
  <div class="col c4" id="elastic-text">
    <p>
      Expanding text inputs. Add the class <code>focusable-focus</code> to
      the outer span on text area focus in order to get the focus effect.
    </p>
    <div class="insert-snippet" data-example-id="expanding-text-ex"></div>
  </div>
  <div class="col c4 light">
    <h2>&nbsp;</h2><!-- Cheating to align code example with text, not heading -->
    <div id="expanding-text-ex" class="mod">
      <span class="text-input elastic-input focusable">
        <span class="elastic-input">
          <span class="sizer"><br></span>
          <textarea class="input focusable-main"></textarea>
        </span>
      </span>
    </div>
  </div>
</div>

<div class="row example">
  <div class="col c4" id="elastic-conflict">
    <p>
      Expanding text inputs. Add the class <code>focusable-focus</code> to
      the outer span on text area focus in order to get the focus effect.
    </p>
    <div class="insert-snippet" data-example-id="expanding-conflict-ex"></div>
  </div>
  <div class="col c4 light">
    <h2>&nbsp;</h2><!-- Cheating to align code example with text, not heading -->
    <div id="expanding-conflict-ex" class="mod">
      <span class="text-input conflict-input elastic-input focusable">
        <span class="elastic-input">
          <span class="sizer"><br></span>
          <textarea class="input focusable-main" placeholder="Inneholder to ulike verdier, endringer vil overskrive begge"></textarea>
        </span>
        <svg class="icon fg-warn" aria-hidden="true" role="presentation"><use xlink:href="#icon-fail"/></svg>
      </span>
    </div>
  </div>
</div>

<script>
  onReady(function () {
    qsa('.elastic-input .input').forEach(function (input) {
      var sizer = input.parentNode.querySelector('.sizer');
      input.addEventListener('input', function () {
        sizer.innerHTML = input.value.replace(/\n/g, '<br>') + '<br>';
      });
    })
  });
</script>

